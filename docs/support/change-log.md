## [Unreleased]

### TODO:

- 热更新支持
- 更新用户手册以及测试标准（长期项目）
- 手动更改语言（Next）
- 备份文件上限（Next）
- 保存specify（Next）
- 添加校阅功能（单独开一个beta分支进行）
- 发送错误报告时增加更多说明以及可以附带用户反馈

## [2.3.8] 

### Changed
- 滚轮快速切换下拉框选项（夜夜）

## [2.3.7] - 2025-06-17

### TODO
- 快捷键移动Label分组和序号（天狗）

### Added

- 默认使用繁化姬设置用于繁简转换（冴木）

### Fixed

- 修复使用快捷键Ctrl+Enter跳转至没有Label图片时的报错(<mark>紧急</mark>)

## [2.3.6] - 2025-06-1

### Added

- 添加软硬件解码相关配置（天狗）
- 输入模式按住ctrl加鼠标左右键可以添加或删除Label（光标不会发生变化）（夜夜）
- 添加JFIF图片格式支持

### Fixed

- 修复在选中最后一个Label时，用鼠标右键删除前面Label再添加Label会出现下标越界的问题

### Changed

- 现在只有通过输入栏的快捷键切换图片时会自动选中第一个Label(夜夜)

## [2.3.5] - 2025-02-03

### TODO

- 添加标注功能

### Added

- 为当前选中的Label添加外边框（需要在设置里勾选开启）

### Fixed

- 修复变更Label序号时无法撤销的问题
- 修复非中国大陆时区时，累计编辑时间显示异常的问题

### Changed

- 调整设置位置
- 更换更新源
- 统一版本号为pom.xml记录的版本
- 优化bat脚本
- 修改错误消息发送邮箱

## [2.3.4] - 2024-10-19

### Added

- 编辑框添加快捷输入短语
- 树状图菜单添加复制文本和粘贴文本，并支持cv快捷键操作
- 树状图菜单添加移动序号操作
- 图片区添加QW切换图片的快捷键
- 添加百度翻译key设置用于配置繁简体转换

### Fixed

- 尝试通过限制加载时图片的大小以及给予更多内存空间的方式修复图片文件尺寸过大导致卡死的问题
- 尝试修复图片区数字快捷键报错

### Changed

- 切换图片时默认选中第一个Label

## [2.3.3]

### Fixed

- 修正了当换页后选中的Label索引值与上一页选中的Label索引值相同时无法输入翻译文本的问题；

- 修正了Label有时候会放歪的问题；

- 修正了框选Label后关闭文档会产生异常的问题；

- 修正了保存文件格式不匹配的问题；

- 修正了无法编辑项目图片的问题；

- 修正了排序报错的问题；
  
  ### Added

- 现在可以直接使用滚轮来缩放图片（需要设置）；

- 现在可以在启动时直接打开上次文件（需要设置）；

- 现在可以使用CLI参数`--dictionary`来单独打开小字典；

- 现在可以通过命令行传入文件路径作为最后一个参数来打开指定翻译（就不做文件关联了）；

## [2.3.2]

### Fixed

- 修正了macOS下使用小字典可能导致崩溃的问题；

- 修正了部分WebP图片无法正确打开的问题；

- 修正了文本输入框无法自由调高高度的问题；

- 修正了未释放文件锁的问题；

- 修正了库函数的错误；
  
  ### Changed

- 现在默认显示状态栏；

- 现在发送的记录会有正确的扩展名（这个和用户没什么关系，和我有关系）

- 把511x511的图片换成了512x512的；
  
  ### Added

- 配置文件的的版本隔离；

- 在状态栏最右侧添加了ResizeGrid；

## [2.3.1]

### Added

- 现在可以使用Alt(Win)/Command(macOS) + X标记存有疑问的Label
  
  ### Fixed

- 修正了老板键的不正确行为

- 修正了切换图片时若下一站图片没有Label会报运行时错误的问题
  
  ### Changed

- 修改了提交记录文件的文件名称

- 修改了备份文件的名称格式

- 使用Weblio替换了NekoDict

## [2.3.0]

### Fixed:

- 修正了某些情况下Label位置会变成(NaN, NaN)的问题；

- 修正了导出图包中翻译文件的格式不正确的问题；

- 修正了调整项目图片后可能引起的图片不存在问题；

- 修正了删除Label后当前文本仍为被删除的Label的文本的问题；

- 修正了从备份文件中恢复时可能导致的空指针问题；

- 修正了省略长文本的越界问题；

- 修正了从备份中恢复的功能（2.2.2时是坏的，竟然没人发现）；
  
  ### Added:

- 增加了第10个分组及以上分组的快捷键：使用0xx来选中xx分组。

- 增加了对BMP、GIF、TIFF、WEBP文件的支持；

- 增加了繁体语言包；

- 增加了老板键（狂按Esc）；

- 增加了替换首页背景图的功能，在软件目录内放置名为init-image.png的文件即可；

- 增加了Label框选功能；
  
  - 按下Shift     增加模式；
  - 按下Alt       减去模式；
  - 按下Shift+Alt 保留模式；
  - 框选后Delete  删除框选的Label；

- 增加全文搜索替换功能；

- 增加了撤回栈（撤销&重做）；

- 增加了导出文件名称模板；

- 增加了记忆窗口大小的功能；

- 增加了Label内数字半透明选项；

- 增加了记忆上次退出时的位置的功能；

- 增加了是否标号后立即翻译的选项；

- 增加了是否开启自动检查更新的选项；

- 增加了拼写检查功能
  
  - 默认开启
  - 目前仅检查不正确的省略号和多余的空行

- 增加了是否使用Meo版文件作为默认保存格式的选项；

- 增加了小字典，Ctrl+D 启用（使用NekoDict）；
  
  - 以下功能仅在Windows下可用并且需要启用JNI；
  - 小字典窗口自动切换为日语输入法（如果有的话）；
  - 小字典中双击输入框自动更改为平假名格式；

- 增加了一键简繁转换功能（使用百度翻译API）；

- 增加更多状态栏信息（上次备份/累计编辑时间）；

- 增加了紧急备份，在出现异常时会立即备份；

- 增加了同时选中多个分组时的右键菜单（仅删除）；

- 增加了App CLI选项：--no-check-update；
  
  ### Changed:

- 现在反馈会附带一份当前翻译文件供问题复现；

- 现在翻译输入区上侧会显示当前Label标号了；

- 增大了翻译输入区的默认文本大小；

- 调整了备份文件的名称格式；

- 调整了指向Label显示翻译文本的形式，现在显示的文本不会随着缩放变化了；

- 调整了LabelPane的滚动与缩放：现在滚轮+Shift是横向滚动，滚轮+Ctrl/Alt/Meta是缩放；

- 调整了缩放行为，现在缩放会以鼠标指针为基准；

- 调整了新建/打开/恢复时的逻辑，只有确认切换当前翻译文件时才会关闭当前文件；

- 调整了重新指定图片过程中取消的显示，现在仅在新建翻译时显示；

- 调整了状态栏的显示，现在可以隐藏显示；

- 现在出现异常时弹出窗口会居中于主窗口；

- 现在新建翻译时若未更改默认文件名会自动设置文件名称为当前目录名称；
  
  - 默认文件名是“Nova traduko”，世界语，意思是“新翻译”；

- 现在新增标号的索引为右侧选中Label的索引+1；

- 重新设计了LabelPane的事件捕获；

- 重新启用菜单助记符（JFX13修复了Beep问题）；

- 完全使用Bindings；

- 更少地使用单例；

- 使用不可变List替换Int数组作为文件版本标识；
  Remove:

- 删除了删除多个文本时的二次确认（反正可以撤销）；

- 删除了配置文件自动更正功能，调整为跳过无效配置并对未发现的配置使用默认值；

- 删除了“导出为图包”的快捷键；

## [2.2.2]

修正了几个不明显的Bug，增加了拖动打开以及新的菜单快捷键

### Fixed

- 修正了使用Ctrl+S保存失败时不显示错误信息的问题；

- 修正了文件选择器的默认文件的扩展名显示不随选定文件类型变化的问题；

- 修正了图片复选框在当前图片为第一张图片时移除当前图片会跳到最后一张图片而非第二张图片的问题；

- 修正了分组复选框在移除当前分组会跳到最后一个分组而非第一个分组的问题；

- 修正了分组复选框在编辑当前分组名称后框内文本消失的问题；

- 修正了潜在的文件选择器初始目录不存在问题；

- 修正了指定图片时在没有图片缺失的情况下关闭仍提示指定未完成的问题；

- 修正了连续使用两次“打开最近的翻译”会导致第二次打开后图片名称为空的问题；

- 修正了显示异常时按下Esc会自动发动记录的问题；

- 修正了分组过多时顶部分组栏文字错位的问题；
  
  ### Changed

- 调整了Ctrl+↑/↓切换Label时有时候并不能选中Label，需要再按一次的问题；

- 调整了默认显示模式：输入模式 -> 顺序浏览，标号模式 -> 分组浏览

- 调整了Exception的发送按钮位置；

- 调整了发送记录时的显示文本（showException & LogsDialog）；

- 现在手动选择树状图中的项目时滚动条不会乱跳了；

- 现在配置文件载入会自动修复不正确的格式为默认值；
  
  ### Added

- 在GroupBar右侧添加了新建分组按钮；

- 添加了快捷键表；

- 添加了菜单栏的快捷键；

- 现在会自动检查更新了；

- 在调整项目图片的对话框中增加了取消按钮；

- 现在可以通过拖动文件来打开了；

- 现在恢复备份也可以选择文件类型了；

- 现在可以在最后一个Label时使用Ctrl+Enter切换图片了；

- 现在可以使用Ctrl+Shift+Enter回滚切换了；

## [2.2.1]

2.2.0 有严重Bug，已经删除

### Fixed

- 修正了LigatureRule可以重复的问题；

- 修正了当上次打开的文件不存在时的死循环；

- 修正了打开最近文件不能更新文件选择器的默认目录的问题；

- 修正了某些情况下变更当前文件不能更新标题栏的问题；

- 修正了只要打开“编辑项目图片”对话框，即使没有增减图片也会导致LPFX认为文件已更改的问题；

- 修正了省略过高文本时剩余行数显示不正确的问题；

- 修正了在索引浏览模式下操作分组会抛出异常的问题（2.2.0）；
  
  ### Changed

- 重新排列了菜单；

- 现在导出为图包不会强制导出Meo格式文本；

- 现在文件选择器会有更好的默认文件名称；

- 现在打开文件时，即使文件格式和扩展名对不上，只要是正确的文件就能正常打开；
  
  ### Added

- 增加了在文本输入区使用Ctrl+Enter切换到下一个Label的功能；

- 增加了删除项目图片时的警告；

- 增加了指定丢失的文件的功能（打开时、打开后）；

- 增加了指定项目文件设置项（新建时、打开时、打开后）；

- 增加了FX线程无法正常工作时的错误提示；

## [2.1.1]

### Fixed

- TransArea字体大小改变修正为整数；
- 现在在标号模式可以指向Label会正常显示其分组；
- 修正了某些情况下程序后台不会退出的问题；
- 修正了配置文件初始化失败时提示文本显示乱码的问题；
- 修正了Label可能被标在图片外面的问题；
- 修正了Monika会把文件类型搞混的问题；

### Changed

- 在激活Monika之前会有显式警告；

## [2.1.0]

使用Kotlin重新构建整个项目
